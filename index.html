<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Das Meisterwerk: Interaktive 3D-Kaffeetasse (v2)</title>
    <style>
        :root {
            --rotate-x: -25deg;
            --rotate-y: 35deg;
        }

        body {
            display: grid;
            place-items: center;
            min-height: 100vh;
            margin: 0;
            background: #2d3436;
            perspective: 2000px;
            overflow: hidden;
        }

        .scene {
            width: 300px;
            height: 300px;
            transform-style: preserve-3d;
            transform: rotateX(var(--rotate-x)) rotateY(var(--rotate-y));
            transition: transform 0.05s linear;
        }

        .coffee-cup-svg {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        /* --- STYLING --- */
        
        #saucer {
            fill: url(#porcelainGradient);
            transform-origin: center;
            filter: drop-shadow(5px 15px 15px rgba(0,0,0,0.3));
        }

        /* Gruppe für Tasse und Henkel, damit der Schatten korrekt fällt */
        #cup-group {
             filter: drop-shadow(5px 15px 15px rgba(0,0,0,0.2));
        }

        #mug-body {
            fill: url(#porcelainGradient);
        }

        /* Der Henkel: Jetzt ein einfacher Pfad mit dicker, runder Linie */
        #handle {
            fill: none;
            stroke: url(#porcelainGradient);
            stroke-width: 28;
            stroke-linecap: round; /* Wichtig für die weichen Enden */
        }
        
        #coffee {
            fill: #593a2a;
        }

        /* Latte Art mit einem realistischeren Muster */
        #latte-art {
            fill: #d3c2b8;
            opacity: 0.9;
            animation: latte-flow 8s infinite ease-in-out alternate;
            transform-origin: center;
        }

        /* Glanzlicht mit subtiler Anpassung an die Drehung */
        #highlight {
            fill: white;
            opacity: 0.1;
            filter: blur(8px);
            transform-origin: center;
            transform: rotateY(calc(var(--rotate-y) * -0.5));
        }

        /* Dampf-Animation */
        .steam-container {
            position: absolute;
            top: -100px;
            left: 50%;
            transform: translateX(-50%) translateZ(60px);
            display: flex;
            justify-content: space-around;
            width: 100px;
            pointer-events: none;
        }

        .steam-wisp {
            width: 15px;
            height: 80px;
            background: linear-gradient(to top, rgba(255,255,255,0.1), rgba(255,255,255,0.6));
            border-radius: 50%;
            filter: blur(5px);
            opacity: 0;
            animation: steam-rise 6s infinite linear;
        }

        .steam-wisp:nth-child(1) { animation-delay: -2s; }
        .steam-wisp:nth-child(2) { animation-delay: -4s; transform: scale(0.9); }
        .steam-wisp:nth-child(3) { animation-delay: 0s; transform: scale(0.8); }

        @keyframes steam-rise {
            0%   { opacity: 0; transform: translateY(100px) scale(0.8); }
            15%  { opacity: 1; }
            100% { opacity: 0; transform: translateY(-100px) scale(1.5); }
        }

        @keyframes latte-flow {
            from { transform: scale(1) rotate(-5deg); }
            to   { transform: scale(1.05) rotate(5deg); }
        }
    </style>
</head>
<body>

<div class="scene">
    <div class="steam-container">
        <div class="steam-wisp"></div>
        <div class="steam-wisp"></div>
        <div class="steam-wisp"></div>
    </div>

    <svg class="coffee-cup-svg" viewBox="0 0 300 300">
        <defs>
            <radialGradient id="porcelainGradient" cx="50%" cy="50%" r="70%" fx="30%" fy="30%">
                <stop offset="0%" style="stop-color:#f9f9f9" />
                <stop offset="100%" style="stop-color:#d1d1d1" />
            </radialGradient>
        </defs>

        <g transform="translate(0, 50) rotateX(75deg)">
            <path id="saucer" d="M 40,120 C 40,150 260,150 260,120 C 260,90 40,90 40,120 Z" />

            <g id="cup-group" transform="translate(0, -90)">
                <path id="handle" d="M220,50 A 30,45 0 1,1 220,130" />
                <path id="mug-body" d="M 80,0 C 75,120 225,120 220,0 Z" />
                <ellipse id="coffee" cx="150" cy="0" rx="68" ry="20" />
                <path id="latte-art" d="M150,0 C 135, -10 135, 10 150, 10 S 165,-10 150,0z" />
                <path id="highlight" d="M 95,10 C 100,40 95,70 90,100 A 100,100 0 0,1 90,20 C 90,20 90,-20 95,10 Z" />
            </g>
        </g>
    </svg>
</div>

<script>
    const scene = document.querySelector('.scene');
    document.body.addEventListener('mousemove', (e) => {
        const x = (e.clientX - window.innerWidth / 2) / window.innerWidth;
        const y = (e.clientY - window.innerHeight / 2) / window.innerHeight;
        const maxRotation = 40;
        scene.style.setProperty('--rotate-x', `${y * -maxRotation}deg`);
        scene.style.setProperty('--rotate-y', `${x * maxRotation}deg`);
    });
</script>

</body>
</html>